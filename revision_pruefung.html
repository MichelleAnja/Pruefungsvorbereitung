<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Prüfungsplanung – Interaktives Übungsset</title>
  <style>
    body{
      font-family: Arial, sans-serif;
      background: url("hintergrund.jpg") no-repeat center center fixed;
      background-size: cover;
      margin:0;
      padding:40px 20px;
      color:black;
    }
    .section{
      background: rgba(255,255,255,.9);
      border-radius:12px;
      padding:20px;
      margin-bottom:24px;
      max-width:900px;
      margin-left:auto;
      margin-right:auto;
    }
    .back-link{
      display:inline-block; margin-bottom:20px; font-size:18px; font-weight:bold; color:black; text-decoration:none;
    }
    h2{ font-size:20px; margin-bottom:12px; }
    .slide-text{ white-space:pre-wrap; line-height:1.35; }

    /* Schwarze Felder (MC) */
    .choice-box{ display:flex; flex-wrap:wrap; gap:10px; margin-top:10px; }
    .black-option{
      background:black; color:white; border:none; border-radius:6px; padding:10px 16px; cursor:pointer;
    }

    /* (BF) = Blaue Felder */
    .input-box{ display:flex; flex-wrap:wrap; gap:10px; align-items:flex-start; margin-top:12px; }
    .bf-input{
      flex:1 1 100%;
      min-height:90px;
      padding:10px;
      border-radius:6px;
      border:2px solid #6aa8ff;
      background:#eaf2ff;
      font-size:16px;
    }
    .ok-btn{
      background:black; color:white; border:none; border-radius:6px;
      padding:10px 16px; cursor:pointer;
    }

    /* Feedbackfarben */
    .correct{ background-color: lightgreen !important; color:black !important; }
    .wrong{ background-color: lightcoral !important; color:black !important; }
    .explanation, .feedback{ margin-top:10px; font-weight:bold; display:none; }

    @media (max-width: 480px){
      h2{ font-size:18px; }
      .black-option{ flex:1 1 calc(50% - 10px); text-align:center; }
      .ok-btn{ flex:1 1 100%; }
    }
  </style>
</head>
<body>
  <div class="section">
    <a class="back-link" href="revision.html">← Zurück</a>
    <h2>Prüfungsplanung – Interaktives Übungsset</h2>
    <div>Hinweis: <b>(BF)</b> sind <b>blaue</b> Eingabefelder. <b>&lt;…&gt;</b> sind <b>schwarze</b> Auswahlfelder. Erst nach Auswahl/Eingabe erscheint die Erklärung.</div>
  </div>

  <!-- ======= Ab hier: Folien als (BF) – Blaue Felder ======= -->
  <!-- Beispielstruktur für alle Folien; Inhalt 1:1 übernommen.
       Du kannst beliebige Abschnitte später in Multiple-Choice (schwarze Felder) umstellen. -->

  <!-- Folie 1 -->
  <div class="section">
    <h2>1. [Folie 1 – Titel/Frage aus deiner Präsentation]</h2>
    <div class="slide-text">[Optional: restlicher Fließtext der Folie]</div>
    <div class="input-box" data-extra="">
      <textarea class="bf-input" placeholder="(BF) Antwort eingeben …"></textarea>
      <button class="ok-btn">OK</button>
    </div>
    <div class="feedback"></div>
  </div>

  <!-- Folie 2 -->
  <div class="section">
    <h2>2. [Folie 2 – Titel/Frage]</h2>
    <div class="slide-text">[Optionaler Zusatztext der Folie]</div>
    <div class="input-box" data-extra="">
      <textarea class="bf-input" placeholder="(BF) Antwort eingeben …"></textarea>
      <button class="ok-btn">OK</button>
    </div>
    <div class="feedback"></div>
  </div>

  <!--
    ⚠️ Wiederhole den Block für alle weiteren Folien.
    Wenn du ausnahmsweise Multiple-Choice mit schwarzen Feldern brauchst,
    ersetze den (BF)-Block durch:

    <div class="choice-box" data-correct="exakte richtige option (groß/klein egal)" data-extra="(optional) Zusatz zur Lösung">
      <button class="black-option">Option A</button>
      <button class="black-option">Option B</button>
      ...
    </div>
    <div class="explanation"></div>
  -->

  <!-- ======= Engine ======= -->
  <script>
    // Normalisierung (für MC-Vergleich)
    const norm = s => s.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim();

    // (BF) – Blaue Felder: grün bei Inhalt, rot wenn leer
    document.querySelectorAll('.input-box').forEach(box=>{
      const ta = box.querySelector('.bf-input');
      const ok = box.querySelector('.ok-btn');
      const fb = box.parentElement.querySelector('.feedback');
      const extra = box.dataset.extra || "";
      if(!ok) return;
      ok.addEventListener('click', ()=>{
        if(ta && ta.value.trim().length>0){
          ta.classList.remove('wrong');
          ta.classList.add('correct');
          if(fb){ fb.textContent = "Antwort erfasst. ✅"; fb.style.color="green"; fb.style.display="block"; }
        }else{
          ta.classList.remove('correct');
          ta.classList.add('wrong');
          if(fb){ fb.textContent = "Bitte gib eine Antwort ein."; fb.style.color="red"; fb.style.display="block"; }
        }
        if(extra){
          fb.innerHTML += `<div style="margin-top:8px;"><em>${extra}</em></div>`;
        }
        ok.disabled = true;
      }, { once:true });
    });

    // Schwarze Felder (Multiple Choice): falsch = rot + richtige zusätzlich grün
    document.querySelectorAll('.choice-box').forEach(box=>{
      const correctRaw = box.dataset.correct || "";
      const correctSet = correctRaw.split('|').map(norm);
      const extra = box.dataset.extra || "";
      const feedback = box.parentElement.querySelector('.explanation') || box.parentElement.querySelector('.feedback');
      box.querySelectorAll('button').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          box.querySelectorAll('button').forEach(b=>b.disabled=true);
          const chosen = norm(btn.textContent);
          const isCorrect = correctSet.includes(chosen);
          if(isCorrect){
            btn.classList.add('correct');
            if(feedback){ feedback.textContent="Richtig! ✅"; feedback.style.color="green"; feedback.style.display="block"; }
          }else{
            btn.classList.add('wrong');
            // korrekte zusätzlich grün
            box.querySelectorAll('button').forEach(b=>{
              if(correctSet.includes(norm(b.textContent))){ b.classList.add('correct'); }
            });
            if(feedback){ feedback.textContent="Falsch."; feedback.style.color="red"; feedback.style.display="block"; }
          }
          if(extra && feedback){
            feedback.innerHTML += `<div style="margin-top:8px;"><em>${extra}</em></div>`;
          }
        }, { once:true });
      });
    });
  </script>
</body>
</html>

